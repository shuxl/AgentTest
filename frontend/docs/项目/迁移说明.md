# 前端项目迁移说明

## 📍 迁移信息

**迁移时间**：2025-11-11  
**原位置**：`langGraphFlow/V2_0_Agent/frontend/`  
**新位置**：`/Users/m684620/work/github/agent_2025_02/frontend/`（项目根目录）

## 🎯 迁移原因

1. **多后端支持**：前端需要同时对接 Python 后端和 Java 后端
2. **项目结构优化**：将前端项目提升到根目录，便于统一管理
3. **独立性**：前端作为独立项目，不应局限于某个后端服务

## ✅ 迁移内容

- ✅ 所有源代码文件
- ✅ 配置文件（package.json, vite.config.ts 等）
- ✅ 依赖包（node_modules）
- ✅ 设计文档（docs/设计/）
- ✅ 项目文档（README.md, docs/安装/安装手册.md 等）

## 🔧 配置更新

### 1. Vite 配置

更新了 `vite.config.ts`，支持通过环境变量配置后端地址：

```typescript
const API_BASE_URL = process.env.VITE_API_BASE_URL || 'http://localhost:8001';
```

### 2. 环境变量

- `.env.development`：开发环境配置（默认 Python 后端）
- `.env.production`：生产环境配置
- 支持通过环境变量切换后端服务

### 3. 文档更新

- ✅ `README.md`：更新项目说明，说明多后端支持
- ✅ `docs/项目/项目搭建说明.md`：更新项目位置说明
- ✅ `docs/配置/后端配置说明.md`：新增后端配置说明文档

## 📊 后端服务配置

### Python 后端（LangGraph Agent）

- **端口**：`8001`
- **地址**：`http://localhost:8001`
- **项目路径**：`langGraphFlow/V2_0_Agent/`

### Java 后端（agentServer）

- **端口**：`9092`
- **地址**：`http://localhost:9092`
- **项目路径**：`agentServer/`

## 🔄 切换后端

### 开发环境

编辑 `.env.development` 或创建 `.env` 文件：

```bash
# Python 后端
VITE_API_BASE_URL=http://localhost:8001

# Java 后端
# VITE_API_BASE_URL=http://localhost:9092
```

然后重启开发服务器。

### 生产环境

编辑 `.env.production` 文件，设置生产环境的后端地址。

## ⚠️ 注意事项

1. **路径引用**：如果代码中有硬编码的路径引用，需要更新
2. **构建脚本**：CI/CD 脚本中的路径需要更新
3. **文档链接**：其他文档中引用前端项目的链接需要更新

## 📝 后续工作

- [ ] 更新 CI/CD 配置（如果有）
- [ ] 更新其他项目文档中的前端项目路径引用
- [ ] 确保两个后端的 API 接口格式保持一致

## 🔍 验证迁移

运行以下命令验证迁移是否成功：

```bash
# 进入前端目录
cd frontend

# 检查文件是否存在
ls -la src/

# 启动开发服务器
npm run dev
```

如果开发服务器正常启动，说明迁移成功。

